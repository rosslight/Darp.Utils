<Project>
  <!-- Inspired by Microsoft.CodeAnalysis.ResxSourceGenerator targets file -->
  <Target Name="ShowResxFilesInHierarchy" BeforeTargets="GenerateMSBuildEditorConfigFileCore;CoreCompile" Condition="$(SkipShowResxFilesInHierarchy) != 'true'">
    <ItemGroup>
      <AdditionalFilesWithResxExtension Include="@(AdditionalFiles)" Condition="'%(Extension)' == '.resx'" />
      <EmbeddedResource Remove="@(AdditionalFilesWithResxExtension)" />
      <EmbeddedResource Update="**\*.??.resx;**\*.??-??.resx;**\*.??-????.resx" DependentUpon="$([System.IO.Path]::ChangeExtension($([System.IO.Path]::GetFileNameWithoutExtension(%(Identity))), '.resx'))" />
    </ItemGroup>
  </Target>
</Project>
